<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE configuration>
<configuration scan="true">
    <!-- use Spring default values -->
    <include resource="org/springframework/boot/logging/logback/defaults.xml"/>
    
	<import class="ch.qos.logback.core.ConsoleAppender" />
	<import class="ch.qos.logback.core.rolling.RollingFileAppender" />
	<import
		class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy" />

	<import class="ch.qos.logback.classic.filter.ThresholdFilter" />
	<appender name="CONSOLE" class="ConsoleAppender">
		<filter class="ThresholdFilter">
			<level>WARN</level>
		</filter>
       <encoder>
            <pattern>${CONSOLE_LOG_PATTERN}</pattern>
            <charset>utf8</charset>
        </encoder>
	</appender>

	<appender name="FILE" class="RollingFileAppender">
		<file>sos.log</file>
		<rollingPolicy class="TimeBasedRollingPolicy">
			<fileNamePattern>logFile.%d{yyyy-MM}.log</fileNamePattern>
			<maxHistory>36</maxHistory>
			<maxFileSize>128MB</maxFileSize>
			<totalSizeCap>1GB</totalSizeCap>
		</rollingPolicy>
       <encoder>
            <pattern>${CONSOLE_LOG_PATTERN}</pattern>
            <charset>utf8</charset>
        </encoder>
	</appender>


	<root level="INFO">
		<appender-ref ref="CONSOLE" />
		<appender-ref ref="FILE" />

	</root>
</configuration>